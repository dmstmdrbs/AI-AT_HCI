{"version":3,"sources":["states/therapist.js","states/testType.js","component/LoginForm.jsx","assets/hci.png","pages/Login.jsx","component/MyHighlighter.jsx","component/PdiResult.jsx","component/GaugeChart.jsx","component/PredictionInfo.jsx","component/points.js","component/Explainability.jsx","component/ModelAccuracy.jsx","component/AccuracyInfo.jsx","assets/loading.gif","pages/Contents.jsx","App.js","index.js"],"names":["nameState","atom","key","default","phoneState","emailState","testTypeState","Container","styled","div","Form","InputContainer","ButtonContainer","Button","button","Logo","span","img","LoginForm","history","useHistory","useRecoilState","name","setName","phone","setPhone","email","setEmail","useState","setTestType","useEffect","submit","testType","a","axios","post","Name","Email","Phone","then","res","push","error","console","log","alert","Grid","container","spacing","alignItems","item","AccountCircle","TextField","fullWidth","id","label","onChange","e","target","value","MailOutlined","onClick","src","alt","Login","MyHiglighter","sentence","weight","attentionLevel","att2Weight","token","tokenized_att","index","marked","setMarked","setFlag","setWeightList","wArr","slice","length","split","map","Number","words","word","idx","style","marginBottom","fontSize","PdiList","ul","ListItem","props","clicked","valid","TokenContainer","TokenText","PdiResult","pdi","callback","pdiIdx","attention","level1Ref","level2Ref","pitrQ","setPitrQ","setClicked","att2","setAtt2","setToken","useRecoilValue","useRef","arr","att","tokenized","replace","JSON","parse","tokenizedWeight","strNum","setTimeout","qList","indexOf","parseQuestion","ref","toFixed","primary","margin","am4core","am4themes_animated","ModelConfidence","chartId","firstColor","secondColor","leftLabel","rightLabel","gaugeValue","chart","useLayoutEffect","x","am4charts","innerRadius","paddingRight","paddingLeft","axis","xAxes","min","max","strictMinMax","renderer","grid","template","disabled","minGridDistance","range0","axisRanges","create","endValue","axisFill","fill","fillOpacity","range1","radarContainer","createChild","isMeasured","y","horizontalCenter","verticalCenter","text","hand","hands","pin","radius","startWidth","events","on","ev","invalidate","property","to","parseInt","cubicOut","start","label0","adapter","add","pixelInnerRadius","pixelRadius","label1","current","dispose","width","height","Prediction","PredictionText","PredictionInfo","modelPrediction","confidence","classified","points","pointsObj","Array","from","point","parseFloat","ImageContainer","Image","HeatmapContainer","OriginalContainer","PdiContainer","GuageBar","GuageButton","Explainability","setButton","setRadius","setAtt2Weight","att1Weight","setAtt1Weight","imageRef1","att1Ref","att2Ref","pointsStr","pointsArr","obj","h337","document","querySelector","maxOpacity","setData","data","getClickedIdx","className","backgroundColor","variant","strokeWidth","showHead","headSize","curveness","lineColor","headColor","end","AccuracyInfo","accuracy","textAlign","Loading","Error","Header","Type","Title","Content","ExplainabilityContainer","ModelInfoContainer","ActionContainer","StyledTabs","withStyles","indicator","display","justifyContent","maxWidth","Tabs","TabIndicatorProps","children","StyledTab","theme","root","textTransform","color","fontWeight","typography","fontWeightRegular","pxToRem","marginRight","opacity","Tab","disableRipple","TabContainer","defaults","baseURL","Contents","loading","setLoading","tab","setTab","setError","search","setSearch","get","list","pdis","fetchData","fullString","replacement","join","replaceInString","json","fetchAttention","toSet","replaceAll","len","str","substring","stringify","CASE_NUM","caseNum","loopFetch","LoadingGif","placeholder","event","found","includes","undefined","indicatorColor","newValue","scrollButtons","getTabs","GlobalStyle","createGlobalStyle","App","path","exact","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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K,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,GAAI,KACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAA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","file":"static/js/main.46ea5fb9.chunk.js","sourcesContent":["import { atom } from 'recoil';\r\n\r\nexport const nameState = atom({\r\n  key: 'nameState',\r\n  default: '',\r\n});\r\n\r\nexport const phoneState = atom({\r\n  key: 'phoneState',\r\n  default: '',\r\n});\r\n\r\nexport const emailState = atom({\r\n  key: 'emailState',\r\n  default: '',\r\n});\r\n","import { atom } from \"recoil\";\r\n\r\nconst testTypeState = atom({\r\n  key: \"testTypeState\",\r\n  default: \"\",\r\n});\r\n\r\nexport default testTypeState;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useRecoilState } from \"recoil\";\r\nimport axios from \"axios\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { AccountCircle, MailOutlined, Phone } from \"@material-ui/icons/\";\r\nimport { nameState, phoneState, emailState } from \"../states/therapist\";\r\nimport testTypeState from \"../states/testType\";\r\nimport hciLogo from \"../assets/hci.png\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  width: 400px;\r\n  height: 70vh;\r\n  border-radius: 30px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  background-color: #ffffff;\r\n`;\r\n\r\nconst Form = styled.div`\r\n  display: flex;\r\n  height: 250px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\nconst InputContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n`;\r\n\r\nconst ButtonContainer = styled.div``;\r\nconst Button = styled.button`\r\n  align-self: center;\r\n  border-radius: 40px;\r\n  width: 100px;\r\n  margin-top: 1em;\r\n  border: 1px solid;\r\n  padding: 1em 2em;\r\n  margin: 10px;\r\n  background: none;\r\n  font-size: 18px;\r\n  color: white;\r\n  background-color: #7d95b9;\r\n  cursor: pointer;\r\n`;\r\nconst ErrorText = styled.span`\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  height: 20px;\r\n  margin-bottom: 10px;\r\n  line-height: 20px;\r\n  color: #e84118;\r\n`;\r\nconst Logo = styled.img`\r\n  padding-top: 30px;\r\n`;\r\nconst LoginForm = () => {\r\n  const history = useHistory();\r\n\r\n  const [name, setName] = useRecoilState(nameState);\r\n  const [phone, setPhone] = useRecoilState(phoneState);\r\n  const [email, setEmail] = useRecoilState(emailState);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [validEmail, setValidEmail] = useState(false);\r\n  const [testType, setTestType] = useRecoilState(testTypeState);\r\n\r\n  useEffect(() => {\r\n    setName(\"\");\r\n    setPhone(\"\");\r\n    setEmail(\"\");\r\n  }, []);\r\n\r\n  const submit = async (testType) => {\r\n    if (name && phone && email) {\r\n      setTestType(testType);\r\n      await axios\r\n        .post(\"http://15.164.105.78:8000/login/\", {\r\n          Name: name,\r\n          Email: email,\r\n          Phone: phone,\r\n          //test:testType,\r\n        })\r\n        .then(\r\n          (res) => {\r\n            // console.log(res);\r\n            history.push(\"/contents\");\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n        );\r\n    } else {\r\n      alert(\"정보를 입력해주세요\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h1>테스터 정보 입력</h1>\r\n      <Form>\r\n        <InputContainer>\r\n          <Grid container spacing={3} alignItems=\"flex-end\">\r\n            <Grid item>\r\n              <AccountCircle />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth={true}\r\n                id=\"input-name\"\r\n                label=\"이름\"\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </InputContainer>\r\n        <InputContainer>\r\n          <Grid container spacing={3} alignItems=\"flex-end\">\r\n            <Grid item>\r\n              <Phone />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth={true}\r\n                id=\"input-telephone\"\r\n                label=\"전화번호\"\r\n                onChange={(e) => {\r\n                  setPhone(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </InputContainer>\r\n        <InputContainer>\r\n          <Grid container spacing={3} alignItems=\"flex-end\">\r\n            <Grid item>\r\n              <MailOutlined />\r\n            </Grid>\r\n            <Grid item>\r\n              <TextField\r\n                fullWidth={true}\r\n                id=\"input-email\"\r\n                label=\"이메일\"\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </InputContainer>\r\n      </Form>\r\n      <ButtonContainer>\r\n        <Button\r\n          onClick={() => {\r\n            submit(\"A\"); //High precision : attention 일부 의도적으로 안보여줌.\r\n          }}\r\n        >\r\n          test A\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            submit(\"B\"); //High recall : attention 다 보여줌.\r\n          }}\r\n        >\r\n          test B\r\n        </Button>\r\n      </ButtonContainer>\r\n      <Logo src={hciLogo} alt=\"logo\" />\r\n    </Container>\r\n  );\r\n};\r\nexport default LoginForm;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport LoginForm from '../component/LoginForm';\r\n\r\nconst Container = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #e6e9ed;\r\n`;\r\n\r\nconst Login = () => {\r\n  return (\r\n    <Container>\r\n      <LoginForm />\r\n    </Container>\r\n  );\r\n};\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\n// const YellowSpan = styled.span`\r\n//   color: rgb(240, 190, 80);\r\n//   margin-bottom:3px;\r\n// `;\r\n// const BlueSpan = styled.span`\r\n//   color: rgb(54, 93, 228);\r\n//   margin-bottom:3px;\r\n// `;\r\n// const RedSpan = styled.span`\r\n//   color: rgb(255, 66, 65);\r\n//   margin-bottom:3px;\r\n// `;\r\n\r\nconst MyHiglighter = ({\r\n  sentence,\r\n  weight,\r\n  attentionLevel,\r\n  att2Weight,\r\n  token,\r\n  tokenized_att,\r\n  index,\r\n}) => {\r\n  const [marked, setMarked] = useState(null);\r\n  const [flag, setFlag] = useState(true);\r\n  // const [tokenized, setTokenized] = useState([]);\r\n  // const [tokenizedAtt, setTokenizedAtt] = useState([]);\r\n  // const [markedToken,setMarkedToken] = useState(null);\r\n  const [weightList, setWeightList] = useState([]);\r\n  useEffect(() => {}, []);\r\n\r\n  useEffect(() => {\r\n    setFlag(false);\r\n    // if(attentionLevel==='1'){\r\n    //   let parsed = token.replace(/\\\",\\\",/gi, \"\");\r\n    //   parsed = parsed.replace(/, ,/g,', ');\r\n    //   setTokenized(JSON.parse(parsed));\r\n\r\n    //   var arr=tokenized_att.slice(1,tokenized_att.length-1).split(', ')\r\n    //   arr = arr.map(item=>Number(item));\r\n    //   setTokenizedAtt(arr);\r\n    // }\r\n\r\n    var wArr = weight.slice(1, weight.length - 1).split(\", \");\r\n    wArr = wArr.map((item) => Number(item));\r\n    setWeightList(wArr);\r\n\r\n    const words = sentence.split(\" \");\r\n    const markSentence = () => {\r\n      return (\r\n        <span>\r\n          {words.map((word, idx) => {\r\n            return <span style={{ marginBottom: \"3px\" }}>{`${word} `}</span>;\r\n            // }\r\n          })}\r\n        </span>\r\n      );\r\n    };\r\n\r\n    setMarked(markSentence());\r\n    // setMarkedToken(markToken());\r\n\r\n    setFlag(true);\r\n  }, [sentence]);\r\n\r\n  // <p>\r\n  //   this is MyHiglighter <YellowSpan>in yellow span</YellowSpan> and{' '}\r\n  //   <BlueSpan>in blue span</BlueSpan> and <RedSpan>in red span</RedSpan>. awesome\r\n  // </p>\r\n  return (\r\n    <span style={{ fontSize: \"1rem\" }} id={attentionLevel === \"1\" ? \"highlight1\" : \"\"}>\r\n      {marked}\r\n    </span>\r\n  );\r\n};\r\nexport default MyHiglighter;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport styled from \"styled-components\";\r\nimport testTypeState from \"../states/testType\";\r\n\r\nimport MyHiglighter from \"./MyHighlighter\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n  box-shadow: 1px 1px 2px 1px #dadce0;\r\n  max-width: 750px;\r\n`;\r\nconst PdiList = styled.ul`\r\n  list-style: none;\r\n  list-style-type: none;\r\n  justify-content: start;\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ListItem = styled.button`\r\n  position: relative;\r\n  border: none;\r\n  padding: 5px;\r\n  min-width: ;\r\n  text-align: start;\r\n  background-color: ${(props) => (props.clicked === props.idx ? \"#d1d1d1\" : \"#ffffff\")};\r\n  cursor: ${(props) =>\r\n    props.attentionLevel === \"1\" && props.valid ? (props.idx >= 2 ? \"pointer\" : \"\") : \"\"};\r\n`;\r\n\r\n// const Button = styled.button`\r\n//   width: 200px;\r\n//   margin-top:20px;\r\n//   align-self: center;\r\n//   background-color:white;\r\n//   border-radius:5px;\r\n//   height:2rem;\r\n// `;\r\n\r\nconst TokenContainer = styled.div`\r\n  width: 150px;\r\n  margin-left: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: start;\r\n  justify-content: center;\r\n`;\r\nconst TokenText = styled.span`\r\n  margin: 5px;\r\n  font-size: 1rem;\r\n`;\r\nconst PdiResult = ({ pdi, pdiIdx, callback, attention, attentionLevel, level1Ref, level2Ref }) => {\r\n  const [pitrQ, setPitrQ] = useState([]);\r\n  const [clicked, setClicked] = useState(null);\r\n  const [highlight, setHighlight] = useState(false);\r\n  const [att2, setAtt2] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const testType = useRecoilValue(testTypeState);\r\n  const pdiRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    console.log(pdi);\r\n    console.log(attention);\r\n    if (attentionLevel === \"1\") {\r\n      let arr = attention.map((att, idx) => {\r\n        if (idx <= 7) {\r\n          let tokenized = att[\"tokenized\"].replace(/\\\",\\\",/gi, \"\");\r\n          tokenized = tokenized.replace(/, ,/g, \", \");\r\n          tokenized = JSON.parse(tokenized);\r\n\r\n          let tokenizedWeight = att[\"tokenized_att\"]\r\n            .slice(1, att[\"tokenized_att\"].length - 1)\r\n            .split(\", \");\r\n          tokenizedWeight = tokenizedWeight.map((item) => Number(item));\r\n          // console.log(tokenized,tokenizedWeight);\r\n          return { tokenized: tokenized, tokenizedWeight: tokenizedWeight };\r\n        }\r\n      });\r\n      setToken(arr);\r\n      // console.log(level1Ref);\r\n    }\r\n\r\n    let arr = attention[8][\"pdi_answer_att2\"]\r\n      .slice(1, attention[8][\"pdi_answer_att2\"].length - 1)\r\n      .split(\", \");\r\n    arr = arr.map((strNum) => Number(strNum));\r\n    setTimeout(() => {\r\n      setAtt2(arr);\r\n    }, 100);\r\n\r\n    setClicked(null);\r\n    const parseQuestion = (pdi) => {\r\n      let pitrQ = [];\r\n\r\n      for (const key in pdi) {\r\n        if (!key.indexOf(\"pitrQ\")) {\r\n          pitrQ.push(key);\r\n        }\r\n      }\r\n      return pitrQ;\r\n    };\r\n\r\n    const qList = parseQuestion(pdi);\r\n    setPitrQ(qList);\r\n  }, [pdi]);\r\n\r\n  useEffect(() => {\r\n    callback(clicked);\r\n  }, [clicked]);\r\n\r\n  const onClickHighlight = () => {\r\n    setHighlight((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {attentionLevel === \"1\" && level1Ref && (\r\n        <TokenContainer>\r\n          {token &&\r\n            clicked >= 2 &&\r\n            token[clicked - 2][\"tokenized\"].map((item, idx) => {\r\n              return (\r\n                <>\r\n                  <TokenText ref={level1Ref[idx]}>\r\n                    {`[ ${(token[clicked - 2][\"tokenizedWeight\"][idx] * 100).toFixed(1)}% ]`} {item}\r\n                  </TokenText>\r\n                </>\r\n              );\r\n            })}\r\n        </TokenContainer>\r\n      )}\r\n      {att2 && (\r\n        <PdiList>\r\n          {pitrQ.map((item, idx) => {\r\n            return (\r\n              <ListItem\r\n                key={idx}\r\n                ref={idx >= 2 ? level2Ref[idx] : null}\r\n                id={idx >= 2 ? level2Ref[idx].id : null}\r\n                primary={`${item} - ${pdi[item]}`}\r\n                clicked={clicked}\r\n                idx={idx}\r\n                valid={\r\n                  testType === \"B\"\r\n                    ? true\r\n                    : testType === \"A\" && idx >= 2 && att2[idx - 2] * 100 >= 12.5\r\n                    ? true\r\n                    : false\r\n                }\r\n                attentionLevel={attentionLevel}\r\n                onClick={() => {\r\n                  //TODO : testType === 'A' ? 0 : 클릭 무반응, 1: 기존처럼 클릭\r\n                  //if (attentionLevel === \"1\") clicked === idx ? setClicked(null) : (testType==='A' ? setClicked(null) : setClicked(idx);\r\n\r\n                  if (attentionLevel === \"1\" && idx >= 2)\r\n                    if (testType === \"A\" && att2[idx - 2] * 100 < 12.5) {\r\n                      console.log(\"none\");\r\n                    } else {\r\n                      clicked === idx ? setClicked(null) : setClicked(idx);\r\n                    }\r\n                }}\r\n              >\r\n                {idx >= 2 ? (\r\n                  <>\r\n                    {attentionLevel === \"1\" && att2 ? (\r\n                      <span style={{ fontSize: \"1rem\" }}>{`[${(att2[idx - 2] * 100).toFixed(\r\n                        1,\r\n                      )}%]`}</span>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n\r\n                    <span style={{ fontSize: 16 }}> {item} - </span>\r\n                    <MyHiglighter\r\n                      attentionLevel={attentionLevel}\r\n                      sentence={`${pdi[item]}`}\r\n                      weight={attention[idx - 2][\"pdi_att_token\"]}\r\n                      token={attention[idx - 2][\"tokenized\"]}\r\n                      tokenized_att={attention[idx - 2][\"tokenized_att\"]}\r\n                      index={idx - 2}\r\n                    />\r\n                  </>\r\n                ) : (\r\n                  <div>\r\n                    <span style={{ fontSize: \"1rem\" }}>\r\n                      {`${item} - ${pdi[item]}`}\r\n                      <span style={{ fontSize: \"1rem\", margin: \"5px\" }}></span>\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </PdiList>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\nexport default PdiResult;\r\n","import React, { useRef, useLayoutEffect } from \"react\";\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport styled from \"styled-components\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n`;\r\nconst ModelConfidence = ({\r\n  chartId,\r\n  firstColor,\r\n  secondColor,\r\n  leftLabel,\r\n  rightLabel,\r\n  gaugeValue,\r\n}) => {\r\n  const chart = useRef(null);\r\n\r\n  useLayoutEffect(() => {\r\n    let x = am4core.create(chartId, am4charts.GaugeChart);\r\n\r\n    x.innerRadius = am4core.percent(80);\r\n    x.paddingRight = 20;\r\n    x.paddingLeft = 20;\r\n\r\n    // Normal axis\r\n    var axis = x.xAxes.push(new am4charts.ValueAxis());\r\n    axis.min = 0;\r\n    axis.max = 100;\r\n    axis.strictMinMax = true;\r\n    axis.renderer.grid.template.disabled = true;\r\n    axis.renderer.minGridDistance = 10000;\r\n\r\n    // Axis for ranges\r\n    var colorSet = new am4core.ColorSet();\r\n\r\n    var range0 = axis.axisRanges.create();\r\n    range0.value = 0;\r\n    range0.endValue = 50;\r\n    range0.axisFill.fill = am4core.color(firstColor);\r\n    range0.axisFill.fillOpacity = 1;\r\n    // range0.axisFill.fill = colorSet.getIndex(0);\r\n\r\n    var range1 = axis.axisRanges.create();\r\n    range1.value = 50;\r\n    range1.endValue = 100;\r\n    range1.axisFill.fill = am4core.color(secondColor);\r\n    range1.axisFill.fillOpacity = 1;\r\n    // range1.axisFill.fill = colorSet.getIndex(2);\r\n\r\n    // Main label\r\n    var label = x.radarContainer.createChild(am4core.Label);\r\n    label.isMeasured = false;\r\n    label.fontSize = 25;\r\n    label.x = am4core.percent(50);\r\n    label.y = am4core.percent(100);\r\n    label.horizontalCenter = \"middle\";\r\n    label.verticalCenter = \"bottom\";\r\n    label.text = \"20%\";\r\n\r\n    // Hand\r\n    var hand = x.hands.push(new am4charts.ClockHand());\r\n    hand.axis = axis;\r\n    hand.pin.disabled = true;\r\n    hand.value = 400;\r\n    hand.innerRadius = am4core.percent(60);\r\n    hand.radius = am4core.percent(80);\r\n    hand.startWidth = 10;\r\n\r\n    hand.events.on(\"propertychanged\", function (ev) {\r\n      range0.endValue = ev.target.value;\r\n      range1.value = ev.target.value;\r\n      axis.invalidate();\r\n    });\r\n\r\n    label.text = gaugeValue + \"%\";\r\n    var animation = new am4core.Animation(\r\n      hand,\r\n      {\r\n        property: \"value\",\r\n        to: parseInt(gaugeValue),\r\n      },\r\n      700,\r\n      am4core.ease.cubicOut,\r\n    ).start();\r\n\r\n    // Axis labels\r\n    var label0 = x.radarContainer.createChild(am4core.Label);\r\n    label0.isMeasured = false;\r\n    label0.y = 10;\r\n    label0.horizontalCenter = \"middle\";\r\n    label0.verticalCenter = \"top\";\r\n    label0.text = leftLabel;\r\n\r\n    label0.adapter.add(\"x\", function (x, target) {\r\n      return -(\r\n        axis.renderer.pixelInnerRadius +\r\n        (axis.renderer.pixelRadius - axis.renderer.pixelInnerRadius) / 2\r\n      );\r\n    });\r\n\r\n    var label1 = x.radarContainer.createChild(am4core.Label);\r\n    label1.isMeasured = false;\r\n    label1.y = 10;\r\n    label1.horizontalCenter = \"middle\";\r\n    label1.verticalCenter = \"top\";\r\n    label1.text = rightLabel;\r\n\r\n    label1.adapter.add(\"x\", function (x, target) {\r\n      return (\r\n        axis.renderer.pixelInnerRadius +\r\n        (axis.renderer.pixelRadius - axis.renderer.pixelInnerRadius) / 2\r\n      );\r\n    });\r\n\r\n    chart.current = x;\r\n\r\n    return () => {\r\n      x.dispose();\r\n    };\r\n  }, []);\r\n  useLayoutEffect(() => {\r\n    let x = am4core.create(chartId, am4charts.GaugeChart);\r\n\r\n    x.innerRadius = am4core.percent(80);\r\n    x.paddingRight = 20;\r\n    x.paddingLeft = 20;\r\n\r\n    // Normal axis\r\n    var axis = x.xAxes.push(new am4charts.ValueAxis());\r\n    axis.min = 0;\r\n    axis.max = 100;\r\n    axis.strictMinMax = true;\r\n    axis.renderer.grid.template.disabled = true;\r\n    axis.renderer.minGridDistance = 10000;\r\n\r\n    // Axis for ranges\r\n    var colorSet = new am4core.ColorSet();\r\n\r\n    var range0 = axis.axisRanges.create();\r\n    range0.value = 0;\r\n    range0.endValue = 50;\r\n    range0.axisFill.fill = am4core.color(firstColor);\r\n    range0.axisFill.fillOpacity = 1;\r\n    // range0.axisFill.fill = colorSet.getIndex(0);\r\n\r\n    var range1 = axis.axisRanges.create();\r\n    range1.value = 50;\r\n    range1.endValue = 100;\r\n    range1.axisFill.fill = am4core.color(secondColor);\r\n    range1.axisFill.fillOpacity = 1;\r\n    // range1.axisFill.fill = colorSet.getIndex(2);\r\n\r\n    // Main label\r\n    var label = x.radarContainer.createChild(am4core.Label);\r\n    label.isMeasured = false;\r\n    label.fontSize = 25;\r\n    label.x = am4core.percent(50);\r\n    label.y = am4core.percent(100);\r\n    label.horizontalCenter = \"middle\";\r\n    label.verticalCenter = \"bottom\";\r\n    label.text = \"20%\";\r\n\r\n    // Hand\r\n    var hand = x.hands.push(new am4charts.ClockHand());\r\n    hand.axis = axis;\r\n    hand.pin.disabled = true;\r\n    hand.value = 400;\r\n    hand.innerRadius = am4core.percent(60);\r\n    hand.radius = am4core.percent(80);\r\n    hand.startWidth = 10;\r\n\r\n    hand.events.on(\"propertychanged\", function (ev) {\r\n      range0.endValue = ev.target.value;\r\n      range1.value = ev.target.value;\r\n      axis.invalidate();\r\n    });\r\n\r\n    label.text = gaugeValue + \"%\";\r\n    var animation = new am4core.Animation(\r\n      hand,\r\n      {\r\n        property: \"value\",\r\n        to: parseInt(gaugeValue),\r\n      },\r\n      700,\r\n      am4core.ease.cubicOut,\r\n    ).start();\r\n\r\n    // Axis labels\r\n    var label0 = x.radarContainer.createChild(am4core.Label);\r\n    label0.isMeasured = false;\r\n    label0.y = 10;\r\n    label0.horizontalCenter = \"middle\";\r\n    label0.verticalCenter = \"top\";\r\n    label0.text = leftLabel;\r\n\r\n    label0.adapter.add(\"x\", function (x, target) {\r\n      return -(\r\n        axis.renderer.pixelInnerRadius +\r\n        (axis.renderer.pixelRadius - axis.renderer.pixelInnerRadius) / 2\r\n      );\r\n    });\r\n\r\n    var label1 = x.radarContainer.createChild(am4core.Label);\r\n    label1.isMeasured = false;\r\n    label1.y = 10;\r\n    label1.horizontalCenter = \"middle\";\r\n    label1.verticalCenter = \"top\";\r\n    label1.text = rightLabel;\r\n\r\n    label1.adapter.add(\"x\", function (x, target) {\r\n      return (\r\n        axis.renderer.pixelInnerRadius +\r\n        (axis.renderer.pixelRadius - axis.renderer.pixelInnerRadius) / 2\r\n      );\r\n    });\r\n\r\n    chart.current = x;\r\n\r\n    return () => {\r\n      x.dispose();\r\n    };\r\n  }, [gaugeValue]);\r\n\r\n  return (\r\n    <Container>\r\n      <div id={chartId} style={{ width: \"330px\", height: \"200px\" }}></div>\r\n    </Container>\r\n  );\r\n};\r\nexport default ModelConfidence;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ModelConfidence from \"./GaugeChart\";\r\n\r\nconst Container = styled.div`\r\n  margin-top: 50px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Prediction = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst PredictionText = styled.span`\r\n  font-size: 1.2rem;\r\n`;\r\nconst PredictionInfo = ({ pdi, modelPrediction, classified, confidence }) => {\r\n  console.log(confidence);\r\n  return (\r\n    <Container>\r\n      <h2>본 테스트에 대한 AI의 진단 예측</h2>\r\n      <ModelConfidence\r\n        chartId=\"confidence\"\r\n        firstColor=\"#34ef85\"\r\n        secondColor=\"#e8e8e8\"\r\n        leftLabel=\"Low Confidence\"\r\n        rightLabel=\"High Confidence\"\r\n        gaugeValue={confidence}\r\n      />\r\n      <Prediction>\r\n        {modelPrediction === \"no_stress\" ? (\r\n          <PredictionText>\r\n            AI가{\" \"}\r\n            {/* {classified === \"no_stress\" ? (\r\n              <span>\r\n                <strong>스트레스가 없는 </strong> 케이스를\r\n              </span>\r\n            ) : (\r\n              <span>\r\n                <strong>스트레스가 있는 </strong> 케이스를\r\n              </span>\r\n            )} */}\r\n            '<strong>스트레스가 없다</strong>'고 분류하였습니다.\r\n          </PredictionText>\r\n        ) : (\r\n          <PredictionText>\r\n            AI가{\" \"}\r\n            {/* {classified === \"no_stress\" ? (\r\n              <span>\r\n                <strong>스트레스가 없는 </strong> 케이스를\r\n              </span>\r\n            ) : (\r\n              <span>\r\n                <strong>스트레스가 있는 </strong> 케이스를\r\n              </span>\r\n            )}{\" \"} */}\r\n            '<strong>스트레스가 있다</strong>'고 분류하였습니다.\r\n          </PredictionText>\r\n        )}\r\n      </Prediction>\r\n      {/* <Confidence src={`http://15.164.105.78:8000/confidence/${pdi[\"id\"]}`} alt=\"model confidence\" /> */}\r\n    </Container>\r\n  );\r\n};\r\nexport default PredictionInfo;\r\n","//256\r\nconst points_256 = [[30, 30],\r\n[60, 30],\r\n[90, 30],\r\n[120, 30],\r\n[150, 30],\r\n[180, 30],\r\n[210, 30],\r\n[240, 30],\r\n[271, 30],\r\n[301, 30],\r\n[331, 30],\r\n[361, 30],\r\n[391, 30],\r\n[421, 30],\r\n[451, 30],\r\n[481, 30],\r\n[30, 60],\r\n[60, 60],\r\n[90, 60],\r\n[120, 60],\r\n[150, 60],\r\n[180, 60],\r\n[210, 60],\r\n[240, 60],\r\n[271, 60],\r\n[301, 60],\r\n[331, 60],\r\n[361, 60],\r\n[391, 60],\r\n[421, 60],\r\n[451, 60],\r\n[481, 60],\r\n[30, 90],\r\n[60, 90],\r\n[90, 90],\r\n[120, 90],\r\n[150, 90],\r\n[180, 90],\r\n[210, 90],\r\n[240, 90],\r\n[271, 90],\r\n[301, 90],\r\n[331, 90],\r\n[361, 90],\r\n[391, 90],\r\n[421, 90],\r\n[451, 90],\r\n[481, 90],\r\n[30, 120],\r\n[60, 120],\r\n[90, 120],\r\n[120, 120],\r\n[150, 120],\r\n[180, 120],\r\n[210, 120],\r\n[240, 120],\r\n[271, 120],\r\n[301, 120],\r\n[331, 120],\r\n[361, 120],\r\n[391, 120],\r\n[421, 120],\r\n[451, 120],\r\n[481, 120],\r\n[30, 150],\r\n[60, 150],\r\n[90, 150],\r\n[120, 150],\r\n[150, 150],\r\n[180, 150],\r\n[210, 150],\r\n[240, 150],\r\n[271, 150],\r\n[301, 150],\r\n[331, 150],\r\n[361, 150],\r\n[391, 150],\r\n[421, 150],\r\n[451, 150],\r\n[481, 150],\r\n[30, 180],\r\n[60, 180],\r\n[90, 180],\r\n[120, 180],\r\n[150, 180],\r\n[180, 180],\r\n[210, 180],\r\n[240, 180],\r\n[271, 180],\r\n[301, 180],\r\n[331, 180],\r\n[361, 180],\r\n[391, 180],\r\n[421, 180],\r\n[451, 180],\r\n[481, 180],\r\n[30, 210],\r\n[60, 210],\r\n[90, 210],\r\n[120, 210],\r\n[150, 210],\r\n[180, 210],\r\n[210, 210],\r\n[240, 210],\r\n[271, 210],\r\n[301, 210],\r\n[331, 210],\r\n[361, 210],\r\n[391, 210],\r\n[421, 210],\r\n[451, 210],\r\n[481, 210],\r\n[30, 240],\r\n[60, 240],\r\n[90, 240],\r\n[120, 240],\r\n[150, 240],\r\n[180, 240],\r\n[210, 240],\r\n[240, 240],\r\n[271, 240],\r\n[301, 240],\r\n[331, 240],\r\n[361, 240],\r\n[391, 240],\r\n[421, 240],\r\n[451, 240],\r\n[481, 240],\r\n[30, 271],\r\n[60, 271],\r\n[90, 271],\r\n[120, 271],\r\n[150, 271],\r\n[180, 271],\r\n[210, 271],\r\n[240, 271],\r\n[271, 271],\r\n[301, 271],\r\n[331, 271],\r\n[361, 271],\r\n[391, 271],\r\n[421, 271],\r\n[451, 271],\r\n[481, 271],\r\n[30, 301],\r\n[60, 301],\r\n[90, 301],\r\n[120, 301],\r\n[150, 301],\r\n[180, 301],\r\n[210, 301],\r\n[240, 301],\r\n[271, 301],\r\n[301, 301],\r\n[331, 301],\r\n[361, 301],\r\n[391, 301],\r\n[421, 301],\r\n[451, 301],\r\n[481, 301],\r\n[30, 331],\r\n[60, 331],\r\n[90, 331],\r\n[120, 331],\r\n[150, 331],\r\n[180, 331],\r\n[210, 331],\r\n[240, 331],\r\n[271, 331],\r\n[301, 331],\r\n[331, 331],\r\n[361, 331],\r\n[391, 331],\r\n[421, 331],\r\n[451, 331],\r\n[481, 331],\r\n[30, 361],\r\n[60, 361],\r\n[90, 361],\r\n[120, 361],\r\n[150, 361],\r\n[180, 361],\r\n[210, 361],\r\n[240, 361],\r\n[271, 361],\r\n[301, 361],\r\n[331, 361],\r\n[361, 361],\r\n[391, 361],\r\n[421, 361],\r\n[451, 361],\r\n[481, 361],\r\n[30, 391],\r\n[60, 391],\r\n[90, 391],\r\n[120, 391],\r\n[150, 391],\r\n[180, 391],\r\n[210, 391],\r\n[240, 391],\r\n[271, 391],\r\n[301, 391],\r\n[331, 391],\r\n[361, 391],\r\n[391, 391],\r\n[421, 391],\r\n[451, 391],\r\n[481, 391],\r\n[30, 421],\r\n[60, 421],\r\n[90, 421],\r\n[120, 421],\r\n[150, 421],\r\n[180, 421],\r\n[210, 421],\r\n[240, 421],\r\n[271, 421],\r\n[301, 421],\r\n[331, 421],\r\n[361, 421],\r\n[391, 421],\r\n[421, 421],\r\n[451, 421],\r\n[481, 421],\r\n[30, 451],\r\n[60, 451],\r\n[90, 451],\r\n[120, 451],\r\n[150, 451],\r\n[180, 451],\r\n[210, 451],\r\n[240, 451],\r\n[271, 451],\r\n[301, 451],\r\n[331, 451],\r\n[361, 451],\r\n[391, 451],\r\n[421, 451],\r\n[451, 451],\r\n[481, 451],\r\n[30, 481],\r\n[60, 481],\r\n[90, 481],\r\n[120, 481],\r\n[150, 481],\r\n[180, 481],\r\n[210, 481],\r\n[240, 481],\r\n[271, 481],\r\n[301, 481],\r\n[331, 481],\r\n[361, 481],\r\n[391, 481],\r\n[421, 481],\r\n[451, 481],\r\n[481, 481]]\r\nfunction pointArrToObj(points){\r\n  let objArray=Array.from(points, point=>{\r\n    const temp = {x:parseFloat(point[0]),y:parseFloat(point[1])}; \r\n    return temp\r\n  });\r\n  return objArray;\r\n};\r\n\r\nexport let pointsObj = pointArrToObj(points_256);","import React, { useEffect, useState, useRef } from \"react\";\r\nimport Xarrow, { Xwrapper } from \"react-xarrows\";\r\nimport testTypeState from \"../states/testType\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport h337 from \"heatmap.js\";\r\n\r\nimport PdiResult from \"./PdiResult\";\r\nimport PredictionInfo from \"./PredictionInfo\";\r\nimport { pointsObj } from \"./points\";\r\n\r\nconst Container = styled.div`\r\n  padding: 10px;\r\n  display: flex;\r\n  position: relative;\r\n  flex-basis: auto;\r\n  margin: 10px;\r\n  align-items: center;\r\n  box-shadow: 1px 1px 2px 1px #dadce0;\r\n`;\r\nconst ImageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: relative;\r\n`;\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  max-width: 512px;\r\n  max-height: 512px;\r\n  box-shadow: 1px 1px 2px 1px #dadce0;\r\n`;\r\nconst HeatmapContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 512px;\r\n  height: 512px; ;\r\n`;\r\nconst OriginalContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 512px;\r\n  height: 512px;\r\n`;\r\n\r\nconst PdiContainer = styled.div`\r\n  margin-left: 80px;\r\n  display: flex;\r\n  min-height: 512px;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  overflow-y: scroll;\r\n  &::-webkit-scrollbar {\r\n    width: 8px;\r\n    height: 8px;\r\n\r\n    border-radius: 6px;\r\n    background: rgba(255, 255, 255, 0.4);\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n    border-radius: 6px;\r\n  }\r\n`;\r\nconst GuageBar = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 10px;\r\n  background-color: #dbdbdb;\r\n  height: 20px;\r\n  width: 300px;\r\n`;\r\nconst GuageButton = styled.button`\r\n  width: 60px;\r\n  height: 100%;\r\n  border: 0;\r\n`;\r\n\r\nconst Explainability = ({ pdi, pdiIdx, attention, attentionLevel }) => {\r\n  const [button, setButton] = useState(null); //true = Show Heatmap, false = Show original\r\n  const [clicked, setClicked] = useState(null);\r\n  const [radius, setRadius] = useState(40);\r\n  const [att2Weight, setAtt2Weight] = useState(null);\r\n  const [att1Weight, setAtt1Weight] = useState(null);\r\n  const imageRef1 = { id: \"pitr1\", ref: useRef(null) };\r\n  const imageRef2 = { id: \"pitr2\", ref: useRef(null) };\r\n  const att1Ref = [\r\n    { id: \"token1\", ref: useRef(null) },\r\n    { id: \"token2\", ref: useRef(null) },\r\n    { id: \"token3\", ref: useRef(null) },\r\n    { id: \"token4\", ref: useRef(null) },\r\n    { id: \"token5\", ref: useRef(null) },\r\n    { id: \"token6\", ref: useRef(null) },\r\n    { id: \"token7\", ref: useRef(null) },\r\n    { id: \"token8\", ref: useRef(null) },\r\n    { id: \"token9\", ref: useRef(null) },\r\n    { id: \"token10\", ref: useRef(null) },\r\n    { id: \"token11\", ref: useRef(null) },\r\n    { id: \"token12\", ref: useRef(null) },\r\n    { id: \"token13\", ref: useRef(null) },\r\n    { id: \"token14\", ref: useRef(null) },\r\n    { id: \"token15\", ref: useRef(null) },\r\n  ];\r\n  const att2Ref = [\r\n    {},\r\n    {},\r\n    { id: \"pdi3\", ref: useRef(null) },\r\n    { id: \"pdi4\", ref: useRef(null) },\r\n    { id: \"pdi5\", ref: useRef(null) },\r\n    { id: \"pdi6\", ref: useRef(null) },\r\n    { id: \"pdi7\", ref: useRef(null) },\r\n    { id: \"pdi8\", ref: useRef(null) },\r\n    { id: \"pdi9\", ref: useRef(null) },\r\n    { id: \"pdi10\", ref: useRef(null) },\r\n  ];\r\n\r\n  var heatmapInstance;\r\n\r\n  useEffect(() => {\r\n    let arr = attention[8][\"pdi_answer_att2\"]\r\n      .slice(1, attention[8][\"pdi_answer_att2\"].length - 1)\r\n      .split(\", \");\r\n    arr = arr.map((strNum) => Number(strNum));\r\n    setAtt2Weight(arr);\r\n    // console.log(arr);\r\n    setButton(true);\r\n\r\n    if (attentionLevel === \"1\") {\r\n      let arr = attention.map((att, idx) => {\r\n        if (idx <= 7) {\r\n          let tokenized = att[\"tokenized\"].replace(/\\\",\\\",/gi, \"\");\r\n          tokenized = tokenized.replace(/, ,/g, \", \");\r\n          tokenized = JSON.parse(tokenized);\r\n\r\n          let tokenizedWeight = att[\"tokenized_att\"]\r\n            .slice(1, att[\"tokenized_att\"].length - 1)\r\n            .split(\", \");\r\n          tokenizedWeight = tokenizedWeight.map((item) => Number(item));\r\n          // console.log(tokenized,tokenizedWeight);\r\n          return { tokenized: tokenized, tokenizedWeight: tokenizedWeight };\r\n        }\r\n      });\r\n      setAtt1Weight(arr);\r\n    }\r\n    // console.log(imageRef1);\r\n    // console.log(imageRef2)\r\n  }, [pdi]);\r\n\r\n  useEffect(() => {\r\n    if (!button) {\r\n      if (attentionLevel === \"1\" && (clicked === null || clicked === 0 || clicked === 1))\r\n        console.log(\"1번과 2번을 제외한 pdi를 선택해주세요\");\r\n      else {\r\n        // console.log(`clicked : ${clicked}`);\r\n        if (clicked >= 2 && attentionLevel === \"1\") {\r\n          let pointsStr = attention[clicked - 2][\"image_att\"];\r\n          let pointsArr = pointsStr.slice(1, pointsStr.length - 1).split(\", \");\r\n          let points = [];\r\n          const tmp = pointsObj.map((item, idx) => {\r\n            let obj = item;\r\n            if (pointsArr[idx] * 100 >= 1) {\r\n              pointsArr[idx] = 0.0098;\r\n            }\r\n            obj[\"value\"] = parseFloat((pointsArr[idx] * 100).toFixed(2));\r\n            points.push(obj);\r\n          });\r\n\r\n          if (points.length === 256) {\r\n            // console.log(points);\r\n            heatmapInstance = h337.create({\r\n              container: document.querySelector(\".heatmap\"),\r\n              maxOpacity: radius === 40 ? 0.65 : radius === 45 ? 0.6 : 0.5,\r\n              radius: radius,\r\n            });\r\n\r\n            // heatmapInstance.setDataMax(255);\r\n            heatmapInstance.setData({\r\n              max: 1,\r\n              min: 0,\r\n              data: points,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [button]);\r\n\r\n  useEffect(() => {\r\n    setButton(!button);\r\n    setTimeout(() => {\r\n      setButton(false);\r\n    }, 50);\r\n  }, [radius]);\r\n\r\n  useEffect(() => {\r\n    //   // console.log(clicked);\r\n    //   // setButton(true);\r\n    if (button === true) {\r\n      setButton(!button);\r\n      setButton(!button);\r\n    }\r\n    // console.log(att1Ref)\r\n  }, [clicked]);\r\n\r\n  const getClickedIdx = (idx) => {\r\n    setClicked(idx);\r\n    // setButton(true);\r\n    setButton(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {attentionLevel === \"1\" && (\r\n        <>\r\n          <h2>모델의 판단 근거 시각화</h2>\r\n          <Container id=\"canvas\">\r\n            <ImageContainer ref={imageRef1} id=\"pitr_att1\">\r\n              {button ? (\r\n                <>\r\n                  <OriginalContainer>\r\n                    <Image src={`http://15.164.105.78:8000/test/${pdi[\"id\"]}`} alt=\"pitr\" />\r\n                  </OriginalContainer>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <HeatmapContainer className=\"heatmap\">\r\n                    <Image src={`http://15.164.105.78:8000/test/${pdi[\"id\"]}`} alt=\"heatmap\" />\r\n                  </HeatmapContainer>\r\n                </>\r\n              )}\r\n              <br />\r\n              <GuageBar>\r\n                <GuageButton\r\n                  style={{ backgroundColor: \"#FFFF66\" }}\r\n                  onClick={() => {\r\n                    setRadius(40);\r\n                  }}\r\n                >\r\n                  40\r\n                </GuageButton>\r\n                <GuageButton\r\n                  style={{ backgroundColor: radius >= 45 ? \"#FFFF66\" : \"#dbdbdb\" }}\r\n                  onClick={() => {\r\n                    setRadius(45);\r\n                  }}\r\n                >\r\n                  45\r\n                </GuageButton>\r\n                <GuageButton\r\n                  style={{ backgroundColor: radius >= 50 ? \"#FFFF66\" : \"#dbdbdb\" }}\r\n                  onClick={() => {\r\n                    setRadius(50);\r\n                  }}\r\n                >\r\n                  50\r\n                </GuageButton>\r\n                <GuageButton\r\n                  style={{ backgroundColor: radius >= 55 ? \"#FFFF66\" : \"#dbdbdb\" }}\r\n                  onClick={() => {\r\n                    setRadius(55);\r\n                  }}\r\n                >\r\n                  55\r\n                </GuageButton>\r\n                <GuageButton\r\n                  style={{ backgroundColor: radius >= 60 ? \"#FFFF66\" : \"#dbdbdb\" }}\r\n                  onClick={() => {\r\n                    setRadius(60);\r\n                  }}\r\n                >\r\n                  60\r\n                </GuageButton>\r\n              </GuageBar>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setButton(!button);\r\n                }}\r\n              >\r\n                {button ? \"Show Heatmap\" : \"Show Original\"}\r\n              </Button>\r\n            </ImageContainer>\r\n\r\n            <PdiContainer>\r\n              <PdiResult\r\n                pdi={pdi}\r\n                pdiIdx={pdiIdx}\r\n                callback={getClickedIdx}\r\n                attention={attention}\r\n                attentionLevel={attentionLevel}\r\n                level1Ref={att1Ref}\r\n                level2Ref={att2Ref}\r\n              />\r\n            </PdiContainer>\r\n            <Xwrapper>\r\n              {attentionLevel === \"1\" &&\r\n                clicked >= 2 &&\r\n                att1Weight &&\r\n                att1Weight[clicked - 2][\"tokenized\"].map((ref, idx) => (\r\n                  <Xarrow\r\n                    strokeWidth={att1Weight[clicked - 2][\"tokenizedWeight\"][idx] * 15}\r\n                    showHead={true}\r\n                    headSize={2}\r\n                    curveness=\"0.2\"\r\n                    lineColor=\"#4a6fe4\"\r\n                    headColor=\"#4a6fe4\"\r\n                    start={att1Ref[idx]}\r\n                    end={imageRef1}\r\n                  />\r\n                ))}\r\n            </Xwrapper>\r\n            {/* att2 => 원본 그림과 PDI답변, 왼쪽의 weight att1로 옮기기, 선 삭제 / att1 : 모델의 판단 근거 시각화 and 문장 아래 weight 없애기 */}\r\n            {/* 100/8 = 12.5 => 평균, 평균보다 더 많은 가중치를 받았으면 모델이 더 많은 신경을 썼다고 판단, High precision = 12.5이상/ High recall일때는 다 보여주기 */}\r\n          </Container>\r\n        </>\r\n      )}\r\n      {attentionLevel === \"2\" && (\r\n        <>\r\n          <h2>원본 그림과 PDI답변</h2>\r\n          <Container>\r\n            <ImageContainer>\r\n              <OriginalContainer>\r\n                <Image src={`http://15.164.105.78:8000/test/${pdi[\"id\"]}`} alt=\"pitr\" />\r\n              </OriginalContainer>\r\n            </ImageContainer>\r\n\r\n            <PdiContainer>\r\n              <PdiResult\r\n                pdi={pdi}\r\n                pdiIdx={pdiIdx}\r\n                callback={getClickedIdx}\r\n                attention={attention}\r\n                attentionLevel={attentionLevel}\r\n                level1Ref={att1Ref}\r\n                level2Ref={att2Ref}\r\n              />\r\n            </PdiContainer>\r\n          </Container>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Explainability;\r\n","import React, { useRef, useLayoutEffect } from \"react\";\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\n\r\nam4core.useTheme(am4themes_animated);\r\n\r\nconst ModelAccuracy = ({ accuracy }) => {\r\n  const chart = useRef(null);\r\n\r\n  useLayoutEffect(() => {\r\n    let x = am4core.create(\"accuracy\", am4charts.PieChart);\r\n\r\n    x.paddingRight = 10;\r\n    x.paddingLeft = 10;\r\n    x.data = [\r\n      {\r\n        confidence: \"\",\r\n        value: parseInt(accuracy), //모델의 정확도\r\n        color: am4core.color(\"#24fd77\"),\r\n      },\r\n      {\r\n        confidence: \"\",\r\n        value: 100 - parseInt(accuracy),\r\n        color: am4core.color(\"#b1b1b1\"),\r\n      },\r\n    ];\r\n    x.radius = am4core.percent(70);\r\n    x.innerRadius = am4core.percent(40);\r\n    x.startAngle = 180;\r\n    x.endAngle = 360;\r\n\r\n    var pieSeries = x.series.push(new am4charts.PieSeries());\r\n\r\n    pieSeries.dataFields.value = \"value\";\r\n    pieSeries.dataFields.category = \"confidence\";\r\n    pieSeries.slices.template.stroke = am4core.color(\"#fff\");\r\n    pieSeries.slices.template.propertyFields.fill = \"color\";\r\n    pieSeries.slices.template.strokeWidth = 2;\r\n    pieSeries.slices.template.strokeOpacity = 1;\r\n    pieSeries.slices.template.tooltipText = \"\";\r\n    pieSeries.labels.template.disabled = true;\r\n\r\n    // This creates initial animation\r\n    pieSeries.hiddenState.properties.opacity = 1;\r\n    pieSeries.hiddenState.properties.endAngle = -90;\r\n    pieSeries.hiddenState.properties.startAngle = -90;\r\n\r\n    var slice = pieSeries.slices.template;\r\n    slice.states.getKey(\"hover\").properties.scale = 1;\r\n    slice.states.getKey(\"active\").properties.shiftRadius = 0;\r\n\r\n    chart.current = x;\r\n\r\n    return () => {\r\n      x.dispose();\r\n    };\r\n  }, []);\r\n\r\n  return <div id=\"accuracy\" style={{ width: \"410px\", height: \"100%\" }}></div>;\r\n};\r\nexport default ModelAccuracy;\r\n","import React, { useLayoutEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport ModelAccuracy from \"./ModelAccuracy\";\r\nimport ModelConfidence from \"./GaugeChart\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst ModelInfoContainer = styled.div`\r\n  display: flex;\r\n  align-items: space-between;\r\n`;\r\n\r\nconst Confidence = styled.img`\r\n  margin: 10px;\r\n`;\r\nconst Accuracy = styled.img`\r\n  margin: 10px;\r\n`;\r\nconst AccuracyInfo = ({ accuracy }) => {\r\n  return (\r\n    <Container>\r\n      {/* <Accuracy src={`http://15.164.105.78:8000/accuracy}`} alt=\"model accuracy\" /> */}\r\n      <h2>AI의 정확도 : {accuracy}%</h2>\r\n      <ModelConfidence\r\n        chartId=\"accuracy\"\r\n        firstColor=\"#6ea6f4\"\r\n        secondColor=\"#e8e8e8\"\r\n        leftLabel=\"\"\r\n        rightLabel=\"\"\r\n        gaugeValue={accuracy}\r\n      />\r\n      <p style={{ textAlign: \"left\" }}>\r\n        <h4>AI의 정확도란?</h4>\r\n        <span>AI가 10개의 검사 결과를 보았을 때 약 8개를 맞출 수 있습니다.</span>\r\n      </p>\r\n      {/* <ModelAccuracy /> */}\r\n\r\n      {/* <Confidence src={`15.164.105.78:8000/confidence/${pdi[\"id\"]}`} alt=\"model confidence\" /> */}\r\n    </Container>\r\n  );\r\n};\r\nexport default AccuracyInfo;\r\n","export default __webpack_public_path__ + \"static/media/loading.47c02e1d.gif\";","import axios from \"axios\";\r\nimport React, { useState, useEffect, useLayoutEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useRecoilValue } from \"recoil\";\r\nimport { nameState } from \"../states/therapist\";\r\nimport testTypeState from \"../states/testType\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Tabs, Tab, Button, TextField } from \"@material-ui/core\";\r\nimport Explainability from \"../component/Explainability\";\r\nimport PredictionInfo from \"../component/PredictionInfo\";\r\nimport AccuracyInfo from \"../component/AccuracyInfo\";\r\nimport LoadingGif from \"../assets/loading.gif\";\r\n\r\nconst Loading = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n`;\r\nconst Error = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  color: #e74c3c;\r\n`;\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 1500px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  color: #434a54;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 15px;\r\n  background: #e6e9ed;\r\n`;\r\n// lightgray : #e6e9ed;\r\n//\r\nconst Name = styled.div`\r\n  position: absolute;\r\n  margin-left: 150px;\r\n`;\r\n\r\nconst Type = styled.div`\r\n  margin-left: 30px;\r\n`;\r\nconst Title = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 10px;\r\n  transform: translate(-50%, 0);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  margin-left: 50px;\r\n  justify-items: center;\r\n`;\r\n\r\nconst ExplainabilityContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: space-evenly;\r\n  margin-right: 50px;\r\n`;\r\nconst ModelInfoContainer = styled.div`\r\n  position: fixed;\r\n  right: 10px;\r\n  top: 200px;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst ActionContainer = styled.div`\r\n  display: flex;\r\n`;\r\nconst StyledTabs = withStyles({\r\n  indicator: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"transparent\",\r\n    \"& > span\": {\r\n      maxWidth: 45,\r\n      width: \"100%\",\r\n      backgroundColor: \"#fff\",\r\n    },\r\n  },\r\n})((props) => <Tabs {...props} TabIndicatorProps={{ children: <span /> }} />);\r\n\r\nconst StyledTab = withStyles((theme) => ({\r\n  root: {\r\n    textTransform: \"none\",\r\n    color: \"#fff\",\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n    fontSize: theme.typography.pxToRem(15),\r\n    marginRight: theme.spacing(1),\r\n    \"&:focus\": {\r\n      opacity: 1,\r\n    },\r\n  },\r\n}))((props) => <Tab disableRipple {...props} />);\r\n\r\nconst TabContainer = styled.div`\r\n  background-color: #4d5e72;\r\n`;\r\n\r\nconst allyProps = (index) => {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n};\r\n// navy-gray : 4d5e72;\r\n// light-navy : 3f6a8a\r\n\r\naxios.defaults.baseURL = \"http://15.164.105.78:8000\";\r\n// axios.defaults.baseURL = \"http://localhost:8000\";\r\n\r\nconst Contents = () => {\r\n  const history = useHistory();\r\n  const name = useRecoilValue(nameState);\r\n  const testType = useRecoilValue(testTypeState);\r\n  const [loading, setLoading] = useState(true);\r\n  const [tab, setTab] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  useLayoutEffect(() => {\r\n    setLoading(true);\r\n    //첫 로딩\r\n    // 1. case 개수 or server id list -> contents컴포넌트\r\n    // then.(2. 각 server id 별 pdi, -> contents 컴포넌트)\r\n    // 3. server id 별 pdi attention, image attention => explainability 컴포넌트\r\n    axios\r\n      .get(\"/idlist_selected\")\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        // let str = res.data.slice(1, res.data.length - 1);\r\n        // let list = str.split(\", \").map((x) => parseInt(x));\r\n        // list.sort((a, b) => parseInt(a) - parseInt(b));\r\n        return res.data;\r\n      })\r\n      .then((list) => {\r\n        // setIdList(list);\r\n        // let test = [3, 28, 66, 504, 525, 33, 948, 640];\r\n        return list;\r\n      })\r\n      .then((list) => {\r\n        //list -> 3,28,66,504,525,33,948,640\r\n\r\n        let pdis = [];\r\n        const fetchData = async (id, idx) => {\r\n          console.log(id);\r\n          try {\r\n            setError(null);\r\n            setData(null);\r\n            await axios\r\n              .get(`/${id + 1}`)\r\n              .then((res) => {\r\n                const replaceInString = (fullString, search, replacement) => {\r\n                  return fullString.split(search).join(replacement);\r\n                };\r\n                const json = JSON.parse(replaceInString(res.data, \"'\", '\"'));\r\n                return json;\r\n              })\r\n              .then(async (json) => {\r\n                const fetchAttention = async (id, idx) => {\r\n                  let toSet = [];\r\n                  axios\r\n                    .get(`/att/${id}`)\r\n                    .then((res) => {\r\n                      let list = res.data.replaceAll(\"'\", '\"').replaceAll(\"}{\", \"}},{{\");\r\n                      // list = list.replaceAll(\"[\",\"\\\"[\").replaceAll(\"]\",\"]\\\"\")\r\n                      let arr = list.split(\"},{\");\r\n\r\n                      const tmp = arr.map((item) => {\r\n                        //attention parsing\r\n                        let tokenized = \"\";\r\n                        let obj = {};\r\n                        let len = item.split('\", ').length;\r\n                        item.split('\", ').map((str, idx) => {\r\n                          let item;\r\n                          let key;\r\n                          let value;\r\n                          if (idx === 0) {\r\n                            item = str.slice(1, str.length);\r\n                            key = item.split(\": \")[0];\r\n                            key = key.replaceAll(/\\\"/g, \"\");\r\n                            value = item.split(\": \")[1];\r\n                            value = value.replace(/\"/, \"\");\r\n                            obj[key] = value;\r\n                          } else if (idx < 7 && idx > 0) {\r\n                            item = str;\r\n                            key = item.split(\": \")[0];\r\n                            key = key.replaceAll(/\\\"/g, \"\");\r\n                            value = item.split(\": \")[1];\r\n                            value = value.replace(/\"/, \"\");\r\n                            obj[key] = value;\r\n                          } else if (idx >= 7 && idx < len - 1) {\r\n                            if (idx === len - 2) tokenized += str;\r\n                            else tokenized += str + '\", ';\r\n\r\n                            if (idx === len - 2) {\r\n                              key = tokenized.split(\": \")[0];\r\n                              key = key.replaceAll(/\\\"/g, \"\");\r\n                              value = tokenized.split(\": \")[1];\r\n                              value = value.replace(/\"/, \"\");\r\n                              value = value.replace(/\\\",\\\"/, \"\");\r\n                              if (value[value.length - 1] === '\"') {\r\n                                value = value.substring(0, value.length - 1);\r\n                              }\r\n                              obj[key] = value;\r\n                            }\r\n                          } else if (idx === len - 1) {\r\n                            item = str.slice(0, str.length - 1);\r\n                            key = item.split(\": \")[0];\r\n                            key = key.replaceAll(/\\\"/g, \"\");\r\n                            value = item.split(\": \")[1];\r\n                            value = value.replace(/\"/, \"\");\r\n                            if (value[value.length - 1] === '\"') {\r\n                              value = value.substring(0, value.length - 1);\r\n                            }\r\n                            obj[key] = value;\r\n                          }\r\n                        });\r\n\r\n                        toSet.push(JSON.parse(JSON.stringify(obj)));\r\n                      });\r\n                      json[\"attention\"] = toSet;\r\n                      pdis.push(json);\r\n                    })\r\n                    .then(() => {\r\n                      setData(pdis);\r\n                    });\r\n                };\r\n\r\n                await fetchAttention(id, idx);\r\n              });\r\n          } catch (e) {\r\n            setError(e);\r\n          }\r\n        };\r\n\r\n        const loopFetch = async (CASE_NUM) => {\r\n          for (let caseNum = 0; caseNum < CASE_NUM; caseNum++) {\r\n            try {\r\n              await fetchData(list[caseNum], caseNum);\r\n              //   console.log(data);\r\n            } catch (e) {\r\n              setError(e);\r\n            }\r\n          }\r\n          setTab(0);\r\n          setTimeout(() => {\r\n            setLoading(false);\r\n          }, 500);\r\n        };\r\n        loopFetch(list.length);\r\n      });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const getTabs = () => {\r\n    let arr = [];\r\n    for (let idx = 0; idx < data.length; idx++) {\r\n      arr[idx] = idx + 1;\r\n    }\r\n    return arr;\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearch(event.target.value);\r\n  };\r\n\r\n  const searchCase = () => {\r\n    if (search.length > 0) {\r\n      // console.log(search);\r\n      // console.log(data[50]);\r\n\r\n      let found;\r\n      data.map((item, idx) => {\r\n        if (item[\"image_name\"].includes(search)) {\r\n          setTab(idx);\r\n          found = item;\r\n        }\r\n      });\r\n      // console.log(found);\r\n      if (found === undefined) {\r\n        alert(\"찾는 케이스가 없습니다\");\r\n      }\r\n      setSearch(\"\");\r\n    }\r\n  };\r\n\r\n  if (loading)\r\n    return (\r\n      <Loading>\r\n        <img src={LoadingGif} alt=\"Loading...\" />\r\n      </Loading>\r\n    );\r\n  if (error) return <Error>Error : API fetching failed</Error>;\r\n  //   if (error) return <Error>Error : API fetching failed</Error>;\r\n  if (data.length > 0)\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <Type>\r\n            <h2>Test {testType}</h2>\r\n          </Type>\r\n          <Name>\r\n            <h2>{name} 님</h2>\r\n          </Name>\r\n\r\n          <Title>\r\n            <h1>AI&AT</h1>\r\n          </Title>\r\n          <ActionContainer>\r\n            <TextField\r\n              value={search}\r\n              id=\"search-image\"\r\n              label=\"Search image id\"\r\n              variant=\"outlined\"\r\n              placeholder=\"00004_pitr_010106.jpg\"\r\n              onChange={handleSearchChange}\r\n            />\r\n            <Button variant=\"outlined\" onClick={searchCase} style={{ margin: \"10px\" }}>\r\n              검색\r\n            </Button>\r\n            <Button variant=\"outlined\" onClick={logout} style={{ margin: \"10px\" }}>\r\n              완료\r\n            </Button>\r\n          </ActionContainer>\r\n        </Header>\r\n        <TabContainer>\r\n          <StyledTabs\r\n            value={tab}\r\n            indicatorColor=\"secondary\"\r\n            onChange={handleChange}\r\n            aria-label=\"scrollable auto tabs\"\r\n            variant=\"scrollable\"\r\n            scrollButtons=\"auto\"\r\n          >\r\n            {getTabs().map((idx) => {\r\n              return (\r\n                <StyledTab\r\n                  key={data[idx - 1][\"id\"]}\r\n                  label={`Case ${idx}`}\r\n                  {...allyProps(idx)}\r\n                ></StyledTab>\r\n              );\r\n            })}\r\n          </StyledTabs>\r\n        </TabContainer>\r\n        <Content>\r\n          <ExplainabilityContainer>\r\n            <Explainability\r\n              pdi={data[tab]}\r\n              pdiIdx={tab}\r\n              attention={data[tab][\"attention\"]}\r\n              attentionLevel=\"2\"\r\n            ></Explainability>\r\n            <Explainability\r\n              pdi={data[tab]}\r\n              pdiIdx={tab}\r\n              attention={data[tab][\"attention\"]}\r\n              attentionLevel=\"1\"\r\n            ></Explainability>\r\n          </ExplainabilityContainer>\r\n          <ModelInfoContainer>\r\n            <AccuracyInfo accuracy={83.3} />\r\n            <PredictionInfo\r\n              pdi={data[tab]}\r\n              modelPrediction={data[tab][\"attention\"][0][\"prediction\"]}\r\n              classified={data[tab][\"gt\"]}\r\n              // confidence={data[tab]['confidence']}\r\n              confidence={(data[tab][\"confidence\"] * 100).toFixed(1)}\r\n            ></PredictionInfo>\r\n          </ModelInfoContainer>\r\n          {/* <Test callback={loadExcel} /> */}\r\n        </Content>\r\n      </Container>\r\n    );\r\n};\r\nexport default Contents;\r\n","import React from 'react';\r\nimport { RecoilRoot } from 'recoil';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { createGlobalStyle } from 'styled-components';\r\n\r\nimport Login from './pages/Login';\r\nimport Contents from './pages/Contents';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html, body {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    width: 100%;\r\n    height: 100%;\r\n    *:focus { outline:none; }    \r\n  }\r\n`;\r\n\r\nconst App = () => {\r\n  return (\r\n    <RecoilRoot>\r\n      <GlobalStyle />\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Login}></Route>\r\n          <Route path=\"/contents\" exact component={Contents}></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </RecoilRoot>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}